#!/bin/bash
# Demo: Dumont CLI funcionando de qualquer lugar do sistema

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "โ      ๐ DEMO: Dumont CLI - Sistema Integrado (como Claude Code)     โ"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""

# Setup PATH
export PATH="$HOME/.local/bin:$PATH"

echo "๐ Testando de diferentes diretรณrios..."
echo ""

# Test 1
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "๐ Teste 1: De /tmp"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
cd /tmp
echo "PWD: $(pwd)"
echo ""
echo "$ dumont call GET /health"
dumont call GET /health
echo ""

# Test 2
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "๐ Teste 2: De /home/marcos"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
cd /home/marcos
echo "PWD: $(pwd)"
echo ""
echo "$ dumont call POST /api/auth/login --data '{\"username\":\"marcosremar@gmail.com\",\"password\":\"123456\"}'"
dumont call POST /api/auth/login --data '{"username":"marcosremar@gmail.com","password":"123456"}'
echo ""

# Test 3
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "๐ Teste 3: De / (root do sistema)"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
cd /
echo "PWD: $(pwd)"
echo ""
echo "$ dumont call GET /api/auth/me"
dumont call GET /api/auth/me | head -15
echo ""

# Test 4
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "๐ Teste 4: Listar endpoints (primeiras 20 linhas)"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "$ dumont list | head -20"
dumont list | head -20
echo ""

echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo "โ                              โ SUCESSO!                              โ"
echo "โ                                                                       โ"
echo "โ  O comando 'dumont' funciona de QUALQUER lugar do sistema!           โ"
echo "โ  Assim como o 'claude' do Claude Code!                               โ"
echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
echo ""
echo "๐ก Dicas:"
echo "  โข Use 'dumont' ou 'dm' de qualquer diretรณrio"
echo "  โข Token salvo automaticamente apรณs login"
echo "  โข 'dumont list' mostra todos os endpoints"
echo "  โข 'dumont interactive' para modo interativo"
echo ""
echo "๐ Documentaรงรฃo completa: cat /home/marcos/dumontcloud/CLI_SYSTEM.md"
echo ""
